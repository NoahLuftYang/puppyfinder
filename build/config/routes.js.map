{"version":3,"sources":["config/routes.js"],"names":[],"mappings":";;;;;;kBAYe,UAAU,GAAV,EAAe,OAAf,EAAwB;;;;;AAKrC,MAAI,GAAJ,CAAQ,QAAR,EAAkB,0BAAgB,YAAlC;AACA,MAAI,GAAJ,CAAQ,WAAR,EAAqB,0BAAgB,eAArC;AACA,MAAI,GAAJ,CAAQ,OAAR,EAAiB,0BAAgB,WAAjC;AACA,MAAI,GAAJ,CAAQ,WAAR,EAAqB,yBAAe,QAApC;;;;;AAKA,MAAI,IAAJ,CAAS,SAAT,EAAoB,0BAAgB,WAApC;;AAEA,MAAI,GAAJ,CAAQ,UAAR,EAAoB,0BAAgB,UAApC;AACA,MAAI,GAAJ,CAAQ,iBAAR,EAA2B,0BAAgB,iBAA3C;AACA,MAAI,MAAJ,CAAW,iBAAX,EAA8B,0BAAgB,oBAA9C;AACA,MAAI,GAAJ,CAAQ,cAAR,EAAwB,0BAAgB,WAAxC;;;AAGA,MAAI,GAAJ,CAAQ,YAAR,EAAsB,6BAAmB,eAAzC;;;;AAIA,MAAI,GAAJ,CAAQ,SAAR,EAAmB,2BAAiB,gBAApC;;AAEA,MAAI,GAAJ,CAAQ,OAAR,EAAiB,UAAS,GAAT,EAAc,GAAd,EAAkB;AACjC,QAAI,YAAY,cAAI,KAAJ,CAAU,IAAI,GAAd,EAAmB,IAAnB,CAAhB;AACA,QAAI,QAAQ,UAAU,KAAtB;;AAEA,2BAAQ;AACN,cAAQ,KADF;AAEN,WAAK,UAAU,kFAAgF,MAAM,CAAtF,GAAwF,wBAAlG;;AAFC,KAAR,EAIG,UAAS,KAAT,EAAgB,QAAhB,EAA0B,IAA1B,EAA+B;AAChC,UAAG,KAAH,EAAS;;AAEP,YAAI,IAAJ,CAAS,GAAT;AACD,OAHD,MAGO;;AAEP,YAAI,IAAJ,CAAS,IAAT;AACD;AACA,KAZD;AAaD,GAjBD;AAkBD,C;;AAzDD;;;;AACA;;;;AAEA;;;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA","file":"config/routes.js","sourcesContent":["import url from 'url';\nimport request from 'request';\n\nimport adminController from '../admin/adminController';\n\nimport Puppy from '../puppy/puppyModel';\nimport puppyController from '../puppy/puppyController';\n\nimport questionController from '../question/questionController';\nimport searchController from '../search/searchController';\nimport statController from '../stat/statController';\n\nexport default function (app, express) {\n  // TODO single page로 합치기\n  // 권한 인증하기\n  // input validation\n  // add.js <-> upload.html 파일명 통일하기\n  app.get('/admin', adminController.getAdminPage);\n  app.get('/dbmanage', adminController.getDbManagePage);\n  app.get('/stat', adminController.getStatPage);\n  app.get('/statjson', statController.getStats);\n  /*\n   * SHOWS the result after admin user INSERTS puppy data via admin page\n   * The reason POST is used is that we want to hide parameters at the end of url\n   */\n  app.post('/result', adminController.insertPuppy);\n\n  app.get('/puppies', puppyController.getPuppies);\n  app.get('/puppies/:breed', puppyController.getPuppiesByBreed);\n  app.delete('/puppies/:breed', puppyController.deletePuppiesByBreed);\n  app.put('/puppies/:id', puppyController.updatePuppy);\n\n  // question list 가져오기\n  app.get('/questions', questionController.getAllQuestions);\n\n  // TODO query를 req.body로 보내기\n  /* SEARCH and RETURN three matching puppies */\n  app.get('/search', searchController.getResultPuppies);\n\n  app.get('/daum', function(req, res){\n    var url_parts = url.parse(req.url, true);\n    var query = url_parts.query;\n    // console.log(query);\n    request({\n      method: 'GET',\n      url: encodeURI('https://apis.daum.net/search/image?apikey=0a82237676f6eb236ee760a0912ec05f&q='+query.q+'&result=20&output=json')\n      // url: encodeURI('https://www.googleapis.com/customsearch/v1?q='+query.q +'&cx=007711437540587242288%3A1tx-m0h4ejq&imgType=photo&searchType=image&key=AIzaSyAIrtttKYKEIsLA1sdftk50R3xj3a5krvM')\n    }, function(error, response, body){\n      if(error){\n        // console.log(error);\n        res.send(404);\n      } else {\n      // console.log('BODY', body);\n      res.send(body);\n    }\n    });\n  });\n}\n"],"sourceRoot":"/source/"}