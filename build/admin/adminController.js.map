{"version":3,"sources":["admin/adminController.js"],"names":[],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAI,MAAM;AACR,gBAAc,sBAAS,GAAT,EAAc,GAAd,EAAmB;AAC/B,QAAI,QAAJ,CAAa,YAAb,EAA2B,EAAC,MAAM,gBAAP,EAA3B;AACD,GAHO;;AAKR,mBAAiB,yBAAS,GAAT,EAAc,GAAd,EAAmB;AAClC,QAAI,QAAJ,CAAa,eAAb,EAA8B,EAAC,MAAM,gBAAP,EAA9B;AACD,GAPO;;AASR,eAAa,qBAAS,GAAT,EAAc,GAAd,EAAmB;AAC9B,QAAI,QAAJ,CAAa,WAAb,EAA0B,EAAC,MAAM,gBAAP,EAA1B;AACD,GAXO;;AAaR,eAAa,qBAAS,GAAT,EAAc,GAAd,EAAmB;AAC9B,QAAI,QAAQ,0BAAZ;;;AAGA,UAAM,KAAN,GAAc,IAAI,IAAJ,CAAS,KAAvB;AACA,UAAM,WAAN,GAAoB,IAAI,IAAJ,CAAS,WAA7B;AACA,UAAM,KAAN,GAAc,IAAI,IAAJ,CAAS,KAAvB;AACA,UAAM,cAAN,CAAqB,QAArB,GAAgC,IAAI,IAAJ,CAAS,cAAT,CAAwB,QAAxD;AACA,UAAM,YAAN,CAAmB,MAAnB,GAA4B,IAAI,IAAJ,CAAS,YAAT,CAAsB,MAAlD;AACA,UAAM,YAAN,CAAmB,MAAnB,GAA4B,IAAI,IAAJ,CAAS,YAAT,CAAsB,MAAlD;AACA,UAAM,YAAN,CAAmB,MAAnB,GAA4B,IAAI,IAAJ,CAAS,YAAT,CAAsB,MAAlD;AACA,UAAM,eAAN,CAAsB,QAAtB,GAAiC,IAAI,IAAJ,CAAS,eAAT,CAAyB,QAA1D;AACA,UAAM,aAAN,CAAoB,MAApB,GAA6B,IAAI,IAAJ,CAAS,aAAT,CAAuB,MAApD;AACA,UAAM,WAAN,CAAkB,IAAlB,GAAyB,IAAI,IAAJ,CAAS,WAAT,CAAqB,IAA9C;AACA,UAAM,WAAN,CAAkB,IAAlB,GAAyB,IAAI,IAAJ,CAAS,WAAT,CAAqB,IAA9C;;AAEA,yBAAM,OAAN,CAAc,EAAC,OAAO,MAAM,KAAd,EAAd,EAAoC,UAAS,GAAT,EAAc,GAAd,EAAmB;AACrD,UAAI,GAAJ,EAAS,IAAI,IAAJ,CAAS,uDAAT;AACT,UAAI,QAAQ,IAAZ,EAAkB;AAChB,cAAM,IAAN,CAAW,UAAS,GAAT,EAAc,KAAd,EAAqB;AAC9B,cAAI,GAAJ,EAAU,IAAI,IAAJ,CAAS,wBAAT,EAAV,KACK;AACH,gBAAI,IAAJ,CAAS,KAAT;AACD;AACF,SALD;AAMD,OAPD,MAOO;AACL,YAAI,IAAJ,CAAS,sCAAT;AACD;AACF,KAZD;AAcD;AA3CO,CAAV;;kBA8Ce,G","file":"admin/adminController.js","sourcesContent":["import Puppy from '../puppy/puppyModel';\n\nvar api = {\n  getAdminPage: function(req, res) {\n    res.sendFile('admin.html', {root: './server/admin'});\n  },\n\n  getDbManagePage: function(req, res) {\n    res.sendFile('dbmanage.html', {root: './server/admin'});\n  },\n\n  getStatPage: function(req, res) {\n    res.sendFile('stat.html', {root: './server/admin'});\n  },\n\n  insertPuppy: function(req, res) {\n    var puppy = new Puppy();\n\n    // Create a new db document\n    puppy.breed = req.body.breed;\n    puppy.description = req.body.description;\n    puppy.image = req.body.image;\n    puppy.isUserAllergic.allergic = req.body.isUserAllergic.allergic;\n    puppy.isUserAbsent.absent = req.body.isUserAbsent.absent;\n    puppy.isUserActive.active = req.body.isUserActive.active;\n    puppy.isUserSingle.single = req.body.isUserSingle.single;\n    puppy.isPuppyFriendly.friendly = req.body.isPuppyFriendly.friendly;\n    puppy.isPuppyInside.inside = req.body.isPuppyInside.inside;\n    puppy.initialCost.cost = req.body.initialCost.cost;\n    puppy.maintenance.cost = req.body.maintenance.cost;\n\n    Puppy.findOne({breed: puppy.breed}, function(err, pup) {\n      if (err) res.send(\"error finding duplicated puppy whiie saving new puppy\");\n      if (pup === null) {\n        puppy.save(function(err, puppy) {\n          if (err)  res.send(\"error saving new puppy\");\n          else {\n            res.send(puppy);\n          }\n        });\n      } else {\n        res.send(\"error: db has already the same breed\");\n      }\n    });\n\n  }\n};\n\nexport default api;\n"],"sourceRoot":"/source/"}