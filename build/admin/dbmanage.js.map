{"version":3,"sources":["admin/dbmanage.js"],"names":[],"mappings":"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","file":"admin/dbmanage.js","sourcesContent":["angular.module(\"dbmanageApp\", []);\n\nangular.module(\"dbmanageApp\").controller(\"DbmanageController\", [\"$http\", \"$window\", \"$timeout\", dbManagerController]);\n\nfunction dbManagerController($http, $window, $timeout) {\n  var _this = this;\n\n  // 사용자의 선택에 따라 편집/추가 mode 설정후, 그에 따른 버튼 기능(submit, goback) 변경 위한 초기 설정.\n  _this.mode = \"\";\n  _this.submit = undefined;\n  _this.goback = gobackToAdmin;\n  _this.successMsg = \"\";\n\n  _this.allergic = [['true', '많음'], ['false', '적음']];\n  _this.absent = [['true', '가능'], ['false', '불가능']];\n  _this.active = [['true', '활동적'], ['false', '보통']];\n  _this.single = [['true', '혼자 잘 지냄'], ['false', '외로움을 잘탐']];\n  _this.friendly = [['true', '강함'], ['false', '약함'], ['default', '보통']];\n  _this.inside = [['true', '실내'], ['false', '실외'], ['default', '상관없음']];\n\n  // server에 db에 저장된 견종 목록을 요청\n  reloadPage();\n\n  _this.new = function() {\n    _this.mode = \"(추가)\";\n    _this.submit = add;\n    _this.goback = gobackToList;\n    _this.puppy = undefined;\n    _this.successMsg = \"\";\n  };\n\n  _this.select = function(breed) {\n    _this.mode = \"(편집)\";\n    _this.submit = update;\n    _this.goback = gobackToList;\n    _this.successMsg = \"\";\n    console.log(_this.mode);\n    $http.get(\"/puppies/\" + breed)\n      .success((response) => {\n        console.log('Selected puppy: ', response);\n        _this.puppy = response;\n      });\n  };\n\n  _this.remove = function(breed) {\n    _this.successMsg = \"\";\n    del(breed);\n  };\n\n\n  function update(puppy) {\n    $http.put(\"/puppies/\" + _this.puppy._id, puppy)\n      .success((response) => {\n        if (typeof(response) !== 'string') {\n          console.log(\"Updated puppy: \", response);\n          _this.puppies = response;\n          _this.mode = \"\";\n          _this.goback = gobackToAdmin;\n          _this.successMsg = \"업데이트 성공\";\n          delSuccessMsg(1500);\n        } else {\n          console.log(\"error: \", response);\n          _this.successMsg = \"견종 중복: 견종명을 바꿔주세요\";\n          reloadPage();\n        }\n      });\n  }\n\n  function add(puppy) {\n    $http.post(\"/result\", puppy)\n      .success((response) => {\n        if (response.breed !== undefined) {\n          console.log(\"Just added: \", response);\n          _this.puppy = undefined;\n          _this.mode = \"\";\n          _this.goback = gobackToAdmin;\n          _this.successMsg = \"추가 성공\";\n          delSuccessMsg(1500);\n          reloadPage();\n        } else {\n          console.log(\"error: \", response);\n          _this.successMsg = \"견종 중복: 견종명을 바꿔주세요\";\n          reloadPage();\n        }\n\n      });\n  }\n\n  function del(breed) {\n    $http.delete(\"/puppies/\" + breed)\n      .success((response) => {\n        console.log(\"Delete succeded. \");\n        _this.puppies = response;\n        _this.successMsg = \"삭제 성공\";\n        delSuccessMsg(1500);\n      });\n  }\n\n  function gobackToList() {\n    _this.mode = \"\";\n    _this.successMsg = \"\";\n    _this.goback = gobackToAdmin;\n  }\n\n  function gobackToAdmin() {\n    console.log(\"in goback function\");\n    // $location.path('/admin');\n    $window.location.href = '/admin';\n  }\n\n  function reloadPage() {\n    $http.get(\"/puppies\")\n      .success((response) => {\n        _this.puppies = response;\n      });\n  }\n\n  function delSuccessMsg(time) {\n    $timeout(function() {\n      _this.successMsg = \"\";\n      console.log(  _this.successMsg.length);\n    }, time);\n  }\n}\n"],"sourceRoot":"/source/"}